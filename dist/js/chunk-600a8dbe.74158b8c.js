(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-600a8dbe"],{"0710":function(e,t,n){"use strict";var i=n("e269"),o=n("592d"),a=n("698f"),s=n("cd7e"),r=n("0af5"),l=n("1e8d"),p=n("0999"),d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un,n.options=t,n.id=t.id,n.insertFirst=void 0===t.insertFirst||t.insertFirst,n.stopEvent=void 0===t.stopEvent||t.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==t.className?t.className:"ol-overlay-container "+s["d"],n.element.style.position="absolute",n.element.style.pointerEvents="auto";var i=t.autoPan;return i&&"object"!==typeof i&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(c.ELEMENT,n.handleElementChanged),n.addChangeListener(c.MAP,n.handleMapChanged),n.addChangeListener(c.OFFSET,n.handleOffsetChanged),n.addChangeListener(c.POSITION,n.handlePositionChanged),n.addChangeListener(c.POSITIONING,n.handlePositioningChanged),void 0!==t.element&&n.setElement(t.element),n.setOffset(void 0!==t.offset?t.offset:[0,0]),n.setPositioning(void 0!==t.positioning?t.positioning:a["a"].TOP_LEFT),void 0!==t.position&&n.setPosition(t.position),n}return d(t,e),t.prototype.getElement=function(){return this.get(c.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(c.MAP)},t.prototype.getOffset=function(){return this.get(c.OFFSET)},t.prototype.getPosition=function(){return this.get(c.POSITION)},t.prototype.getPositioning=function(){return this.get(c.POSITIONING)},t.prototype.handleElementChanged=function(){Object(p["d"])(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(p["e"])(this.element),Object(l["c"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(l["a"])(e,o["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(c.ELEMENT,e)},t.prototype.setMap=function(e){this.set(c.MAP,e)},t.prototype.setOffset=function(e){this.set(c.OFFSET,e)},t.prototype.setPosition=function(e){this.set(c.POSITION,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(c.POSITION)){var n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),o=this.getRect(i,[Object(p["c"])(i),Object(p["b"])(i)]),a=e||{},s=void 0===a.margin?20:a.margin;if(!Object(r["h"])(n,o)){var l=o[0]-n[0],d=n[2]-o[2],h=o[1]-n[1],u=n[3]-o[3],v=[0,0];if(l<0?v[0]=l-s:d<0&&(v[0]=Math.abs(d)+s),h<0?v[1]=h-s:u<0&&(v[1]=Math.abs(u)+s),0!==v[0]||0!==v[1]){var f=t.getView().getCenterInternal(),_=t.getPixelFromCoordinateInternal(f);if(!_)return;var g=[_[0]+v[0],_[1]+v[1]],m=a.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(g),duration:m.duration,easing:m.easing})}}}},t.prototype.getRect=function(e,t){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]},t.prototype.setPositioning=function(e){this.set(c.POSITIONING,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var s=Math.round(e[0]+i[0])+"px",r=Math.round(e[1]+i[1])+"px",l="0%",p="0%";o==a["a"].BOTTOM_RIGHT||o==a["a"].CENTER_RIGHT||o==a["a"].TOP_RIGHT?l="-100%":o!=a["a"].BOTTOM_CENTER&&o!=a["a"].CENTER_CENTER&&o!=a["a"].TOP_CENTER||(l="-50%"),o==a["a"].BOTTOM_LEFT||o==a["a"].BOTTOM_CENTER||o==a["a"].BOTTOM_RIGHT?p="-100%":o!=a["a"].CENTER_LEFT&&o!=a["a"].CENTER_CENTER&&o!=a["a"].CENTER_RIGHT||(p="-50%");var d="translate("+l+", "+p+") translate("+s+", "+r+")";this.rendered.transform_!=d&&(this.rendered.transform_=d,n.transform=d,n.msTransform=d)},t.prototype.getOptions=function(){return this.options},t}(i["a"]);t["a"]=h},"0f3f":function(e,t,n){"use strict";n("1855")},1855:function(e,t,n){},4294:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm"},[n("h2",{staticClass:"h-title"},[e._v("总览控件（鹰眼、小地图） OverviewMap")]),n("div",{staticClass:"map-x",attrs:{id:"map"}})])}],a=(n("d81d"),n("5bc0"),n("5eee")),s=n("a2c7"),r=n("480c"),l=n("d0e9"),p=n("e50d"),d=n("21bc"),c=n("3a39"),h=n("d946"),u={name:"OverviewMap",data:function(){return{map:null}},methods:{initMap:function(){var e=new p["a"]({className:"ol-overviewmap ol-custom-overviewmap",layers:[new r["a"]({source:new l["b"]({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=0e6fc415256d4fbb9b5166a718591d71"})})],collapseLabel:"»",label:"«",collapsed:!1});this.map=new a["a"]({target:"map",controls:d["a"]().extend([e]),interactions:c["defaults"]().extend([new h["a"]]),layers:[new r["a"]({source:new l["b"]})],view:new s["a"]({center:[114.064839,22.548857],zoom:6})})}},mounted:function(){this.initMap(),console.log(c)}},v=u,f=(n("0f3f"),n("2877")),_=Object(f["a"])(v,i,o,!1,null,"0fc24648",null);t["default"]=_.exports},"698f":function(e,t,n){"use strict";t["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},e50d:function(e,t,n){"use strict";var i=n("1856"),o=n("3900"),a=n("01d4"),s=n("592d"),r=n("e637"),l=n("7b4f"),p=n("0710"),d=n("698f"),c=n("fe37"),h=n("a2c7"),u=n("4384"),v=n("cd7e"),f=n("0af5"),_=n("1e8d"),g=n("5bc3"),m=n("0999"),E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=.75,y=.1,O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.createRenderer=function(){return new i["a"](this)},t}(c["a"]),w=function(e){function t(t){var n=this,i=t||{};n=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n.boundHandleRotationChanged_=n.handleRotationChanged_.bind(n),n.collapsed_=void 0===i.collapsed||i.collapsed,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1),n.rotateWithView_=void 0!==i.rotateWithView&&i.rotateWithView,n.viewExtent_=void 0;var o=void 0!==i.className?i.className:"ol-overviewmap",s=void 0!==i.tipLabel?i.tipLabel:"Overview map",r=void 0!==i.collapseLabel?i.collapseLabel:"«";"string"===typeof r?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=r):n.collapseLabel_=r;var l=void 0!==i.label?i.label:"»";"string"===typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=s,h.appendChild(c),h.addEventListener(a["a"].CLICK,n.handleClick_.bind(n),!1),n.ovmapDiv_=document.createElement("div"),n.ovmapDiv_.className="ol-overviewmap-map",n.view_=i.view,n.ovmap_=new O({view:i.view});var u=n.ovmap_;i.layers&&i.layers.forEach((function(e){u.addLayer(e)}));var f=document.createElement("div");f.className="ol-overviewmap-box",f.style.boxSizing="border-box",n.boxOverlay_=new p["a"]({position:[0,0],positioning:d["a"].CENTER_CENTER,element:f}),n.ovmap_.addOverlay(n.boxOverlay_);var _=o+" "+v["e"]+" "+v["b"]+(n.collapsed_&&n.collapsible_?" "+v["a"]:"")+(n.collapsible_?"":" ol-uncollapsible"),g=n.element;g.className=_,g.appendChild(n.ovmapDiv_),g.appendChild(h);var m=n,E=n.boxOverlay_,b=n.boxOverlay_.getElement(),y=function(e){return{clientX:e.clientX,clientY:e.clientY}},w=function(e){var t=y(e),n=u.getEventCoordinateInternal(t);E.setPosition(n)},T=function(e){var t=u.getEventCoordinateInternal(e);m.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",T)};return b.addEventListener("mousedown",(function(){window.addEventListener("mousemove",w),window.addEventListener("mouseup",T)})),n}return E(t,e),t.prototype.setMap=function(t){var n=this.getMap();if(t!==n){if(n){var i=n.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(_["a"])(t,l["a"].PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===r["a"].VIEW){var t=e.oldValue;t&&this.unbindView_(t);var n=this.getMap().getView();this.bindView_(n)}else this.ovmap_.isRendered()||e.key!==r["a"].TARGET&&e.key!==r["a"].SIZE||this.ovmap_.updateSize()},t.prototype.bindView_=function(e){if(!this.view_){var t=new h["a"]({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(u["a"].ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},t.prototype.unbindView_=function(e){e.removeChangeListener(u["a"].ROTATION,this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),i=e.getView(),o=i.calculateExtentInternal(n);if(!this.viewExtent_||!Object(f["p"])(o,this.viewExtent_)){this.viewExtent_=o;var a=t.getSize(),s=t.getView(),r=s.calculateExtentInternal(a),l=t.getPixelFromCoordinateInternal(Object(f["C"])(o)),p=t.getPixelFromCoordinateInternal(Object(f["w"])(o)),d=Math.abs(l[0]-p[0]),c=Math.abs(l[1]-p[1]),h=a[0],u=a[1];d<h*y||c<u*y||d>h*b||c>u*b?this.resetExtent_():Object(f["h"])(r,o)||this.recenter_()}}},t.prototype.resetExtent_=function(){if(0!==b&&0!==y){var e=this.getMap(),t=this.ovmap_,n=e.getSize(),i=e.getView(),o=i.calculateExtentInternal(n),a=t.getView(),s=Math.log(b/y)/Math.LN2,r=1/(Math.pow(2,s/2)*y);Object(f["J"])(o,r),a.fitInternal(Object(g["c"])(o))}},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,n=e.getView(),i=t.getView();i.setCenterInternal(n.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),i=e.getView(),o=t.getView(),a=this.rotateWithView_?0:-i.getRotation(),s=this.boxOverlay_,r=this.boxOverlay_.getElement(),l=i.getCenterInternal(),p=i.getResolution(),d=o.getResolution(),c=n[0]*p/d,h=n[1]*p/d;if(s.setPosition(l),r){r.style.width=c+"px",r.style.height=h+"px";var u="rotate("+a+"rad)";r.style.transform=u}}},t.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(_["b"])(this.ovmap_,s["a"].POSTRENDER,(function(e){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(v["a"]),this.collapsed_?Object(m["g"])(this.collapseLabel_,this.label_):Object(m["g"])(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t.prototype.render=function(e){this.validateExtent_(),this.updateBox_()},t}(o["a"]);t["a"]=w}}]);
//# sourceMappingURL=chunk-600a8dbe.74158b8c.js.map