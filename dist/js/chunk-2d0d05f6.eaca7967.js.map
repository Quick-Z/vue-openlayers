{"version":3,"sources":["webpack:///./src/views/basicDraw/basicDraw.vue?6b5f","webpack:///src/views/basicDraw/basicDraw.vue","webpack:///./src/views/basicDraw/basicDraw.vue?e5d8","webpack:///./src/views/basicDraw/basicDraw.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","tool","multiple","_l","item","key","domProps","_s","label","ref","staticRenderFns","data","tools","draw","source","wrapX","watch","addInteraction","methods","initMap","OSM","Map","$refs","layers","raster","vector","view","View","projection","center","zoom","removeInteraction","Draw","type","mounted","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOX,EAAQ,KAAEY,WAAW,SAASC,MAAM,CAAC,GAAK,QAAQC,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEZ,MAAM,OAAOe,KAAO1B,EAAI4B,KAAKb,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,MAAMhB,EAAI8B,GAAI9B,EAAS,OAAE,SAAS+B,GAAM,OAAO3B,EAAG,SAAS,CAAC4B,IAAID,EAAKpB,MAAMsB,SAAS,CAAC,MAAQF,EAAKpB,QAAQ,CAACX,EAAIO,GAAGP,EAAIkC,GAAGH,EAAKI,aAAY,KAAK/B,EAAG,MAAM,CAACgC,IAAI,MAAM9B,YAAY,aAChwB+B,EAAkB,G,0GCoBtB,GACEC,KADF,WAEI,MAAO,CACLV,KAAM,UACNW,MAAO,CACP,CACE,MAAR,QACQ,MAAR,KAEA,CACQ,MAAR,aACQ,MAAR,KAEA,CACQ,MAAR,UACQ,MAAR,OAEA,CACQ,MAAR,SACQ,MAAR,KAEA,CACQ,MAAR,OACQ,MAAR,MAGMd,IAAK,KACLe,KAAM,KACNC,OAAQ,IAAI,EAAlB,MACQC,OAAO,MAIbC,MAAO,CACLf,KADJ,SACA,GACM3B,KAAK2C,mBAGTC,QAAS,CACPC,QADJ,WAEM,IAAN,cACQL,OAAQ,IAAIM,EAApB,OAGA,cACQN,OAAQxC,KAAKwC,SAEfxC,KAAKwB,IAAM,IAAIuB,EAArB,MACQ3B,OAAQpB,KAAKgD,MAAMxB,IACnByB,OAAQ,CAACC,EAAQC,GACjBC,KAAM,IAAIC,EAAlB,MACUC,WAAY,YACZC,OAAQ,CAAC,SAAU,WACnBC,KAAM,OAGVxD,KAAK2C,kBAEPA,eApBJ,WAqBwB,OAAd3C,KAAKuC,MACPvC,KAAKwB,IAAIiC,kBAAkBzD,KAAKuC,MAGhB,SAAdvC,KAAK2B,OACP3B,KAAKuC,KAAO,IAAImB,EAAxB,MACUlB,OAAQxC,KAAKwC,OACbmB,KAAM3D,KAAK2B,OAEb3B,KAAKwB,IAAImB,eAAe3C,KAAKuC,SAInCqB,QAxEF,WAyEI5D,KAAK6C,YC9FyV,I,YCO9VgB,EAAY,eACd,EACA/D,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-2d0d05f6.eaca7967.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vm\"},[_c('h2',{staticClass:\"h-title\"},[_vm._v(\"绘制点、线、面\")]),_c('div',{staticClass:\"tools-x\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool),expression:\"tool\"}],attrs:{\"id\":\"type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.tool=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.tools),function(item){return _c('option',{key:item.value,domProps:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),0)]),_c('div',{ref:\"map\",staticClass:\"map-x\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vm\">\r\n    <h2 class=\"h-title\">绘制点、线、面</h2>\r\n    <div class=\"tools-x\">\r\n      <select id=\"type\" v-model=\"tool\">\r\n        <option v-for=\"item in tools\" :key=\"item.value\" :value=\"item.value\">{{item.label}}</option>\r\n      </select>\r\n    </div>\r\n    <div ref=\"map\" class=\"map-x\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'ol/ol.css'\r\nimport { Map, View } from 'ol'\r\nimport Tile from 'ol/layer/Tile'\r\nimport OSM from 'ol/source/OSM'\r\nimport LayerVector from 'ol/layer/Vector'\r\nimport SourceVector from 'ol/source/Vector'\r\nimport Draw from 'ol/interaction/Draw'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tool: 'Polygon', // 当前选中的工具\r\n      tools: [ // 工具集\r\n        {\r\n          value: 'Point',\r\n          label: '点'\r\n        },\r\n        {\r\n          value: 'LineString',\r\n          label: '线'\r\n        },\r\n        {\r\n          value: 'Polygon',\r\n          label: '多边形'\r\n        },\r\n        {\r\n          value: 'Circle',\r\n          label: '圆'\r\n        },\r\n        {\r\n          value: 'None',\r\n          label: '无'\r\n        }\r\n      ],\r\n      map: null, // 地图\r\n      draw: null,\r\n      source: new SourceVector({\r\n        wrapX: false // 禁止横向无限重复（底图渲染的时候会横向无限重复），设置了这个属性，可以让绘制的图形不跟随底图横向无限重复\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    tool(newVal) {\r\n      this.addInteraction()\r\n    }\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      let raster = new Tile({\r\n        source: new OSM()\r\n      });\r\n\r\n      let vector = new LayerVector({\r\n        source: this.source\r\n      });\r\n      this.map = new Map({\r\n        target: this.$refs.map,\r\n        layers: [raster, vector],\r\n        view: new View({\r\n          projection: \"EPSG:4326\",\r\n          center: [113.1206, 23.034996],\r\n          zoom: 10\r\n        })\r\n      })\r\n      this.addInteraction()\r\n    },\r\n    addInteraction() {\r\n      if (this.draw !== null) {\r\n        this.map.removeInteraction(this.draw)\r\n      }\r\n      \r\n      if (this.tool !== 'None') {\r\n        this.draw = new Draw({\r\n          source: this.source,\r\n          type: this.tool\r\n        })\r\n        this.map.addInteraction(this.draw)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initMap()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basicDraw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basicDraw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./basicDraw.vue?vue&type=template&id=36629a6a&\"\nimport script from \"./basicDraw.vue?vue&type=script&lang=js&\"\nexport * from \"./basicDraw.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}