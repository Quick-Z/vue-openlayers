(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-000021e9"],{"51dc":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vm"},[i("h2",{staticClass:"h-title"},[e._v("比例尺控件 ScaleLine")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.scaleplate,expression:"scaleplate"}],attrs:{id:"units"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.scaleplate=t.target.multiple?i:i[0]}}},e._l(e.scaleplateList,(function(t){return i("option",{key:t.v},[e._v(e._s(t.t))])})),0),i("div",{staticClass:"map-x",attrs:{id:"map"}})])},n=[],o=(i("d81d"),i("7db0"),i("5bc0"),i("5eee")),a=i("a2c7"),s=i("480c"),c=i("a226"),l=i("9d47"),u=i("21bc"),p={name:"ScaleLine",data:function(){return{map:null,scaleLineControl:new l["a"],scaleplate:"度",scaleplateList:[{t:"度",v:"degrees"},{t:"英制英尺",v:"imperial"},{t:"美制英尺",v:"us"},{t:"海里",v:"nautical"},{t:"公制",v:"metric"}]}},watch:{scaleplate:function(e,t){this.setScaleLine()}},methods:{initMap:function(){this.map=new o["a"]({target:"map",controls:u["a"]().extend([this.scaleLineControl]),layers:[new s["a"]({source:new c["a"]({key:"AiZrfxUNMRpOOlCpcMkBPxMUSKOEzqGeJTcVKUrXBsUdQDXutUBFN3-GnMNSlso-",imagerySet:"Aerial"})})],view:new a["a"]({projection:"EPSG:4326",center:[114.064839,22.548857],zoom:6})}),this.setScaleLine()},setScaleLine:function(){var e=this,t=this.scaleplateList.find((function(t){return t.t===e.scaleplate}));this.scaleLineControl.setUnits(t.v)}},mounted:function(){this.initMap()}},d=p,h=i("2877"),f=Object(h["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"7db0":function(e,t,i){"use strict";var r=i("23e7"),n=i("b727").find,o=i("44d2"),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},"9d47":function(e,t,i){"use strict";var r=i("3900"),n=i("fced"),o=i("cd7e"),a=i("256f"),s=i("92fa"),c=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),l="units",u={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},p=[1,2,5],d=25.4/.28,h=function(e){function t(t){var i=this,r=t||{},n=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return i=e.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,i.on,i.once,i.un,i.innerElement_=document.createElement("div"),i.innerElement_.className=n+"-inner",i.element.className=n+" "+o["e"],i.element.appendChild(i.innerElement_),i.viewState_=null,i.minWidth_=void 0!==r.minWidth?r.minWidth:64,i.renderedVisible_=!1,i.renderedWidth_=void 0,i.renderedHTML_="",i.addChangeListener(l,i.handleUnitsChanged_),i.setUnits(r.units||u.METRIC),i.scaleBar_=r.bar||!1,i.scaleBarSteps_=r.steps||4,i.scaleBarText_=r.text||!1,i.dpi_=r.dpi||void 0,i}return c(t,e),t.prototype.getUnits=function(){return this.get(l)},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set(l,e)},t.prototype.setDpi=function(e){this.dpi_=e},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,i=e.projection,r=this.getUnits(),o=r==u.DEGREES?n["b"].DEGREES:n["b"].METERS,c=Object(a["h"])(i,e.resolution,t,o),l=this.minWidth_*(this.dpi_||d)/d,h=l*c,f="";if(r==u.DEGREES){var m=a["a"][n["b"].DEGREES];h*=m,h<m/60?(f="″",c*=3600):h<m?(f="′",c*=60):f="°"}else r==u.IMPERIAL?h<.9144?(f="in",c/=.0254):h<1609.344?(f="ft",c/=.3048):(f="mi",c/=1609.344):r==u.NAUTICAL?(c/=1852,f="nm"):r==u.METRIC?h<.001?(f="μm",c*=1e6):h<1?(f="mm",c*=1e3):h<1e3?f="m":(f="km",c/=1e3):r==u.US?h<.9144?(f="in",c*=39.37):h<1609.344?(f="ft",c/=.30480061):(f="mi",c/=1609.3472):Object(s["a"])(!1,33);var v,_,y,g,S=3*Math.floor(Math.log(l*c)/Math.log(10));while(1){y=Math.floor(S/3);var b=Math.pow(10,y);if(v=p[(S%3+3)%3]*b,_=Math.round(v/c),isNaN(_))return this.element.style.display="none",void(this.renderedVisible_=!1);if(_>=l)break;++S}g=this.scaleBar_?this.createScaleBar(_,v,f):v.toFixed(y<0?-y:0)+" "+f,this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=_&&(this.innerElement_.style.width=_+"px",this.renderedWidth_=_),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,i){for(var r,n="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),o=[],a=e/this.scaleBarSteps_,s="#ffffff",c=0;c<this.scaleBarSteps_;c++)0===c&&o.push(this.createMarker("absolute",c)),o.push('<div><div class="ol-scale-singlebar" style="width: '+a+"px;background-color: "+s+';"></div>'+this.createMarker("relative",c)+(c%2===0||2===this.scaleBarSteps_?this.createStepText(c,e,!1,t,i):"")+"</div>"),c===this.scaleBarSteps_-1&&o.push(this.createStepText(c+1,e,!0,t,i)),s="#ffffff"===s?"#000000":"#ffffff";r=this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+n+"</div>":"";var l='<div style="display: flex;">'+r+o.join("")+"</div>";return l},t.prototype.createMarker=function(e,t){var i="absolute"===e?3:-10;return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+i+'px;"></div>'},t.prototype.createStepText=function(e,t,i,r,n){var o=0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100,a=o+(0===e?"":" "+n),s=0===e?-3:t/this.scaleBarSteps_*-1,c=0===e?0:t/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+s+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+c+"px;left: "+(i?t+"px":"unset")+';">'+a+"</div>"},t.prototype.getScaleForResolution=function(){var e=Object(a["h"])(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),t=this.dpi_||d,i=this.viewState_.projection.getMetersPerUnit(),r=1e3/25.4;return parseFloat(e.toString())*i*r*t},t.prototype.render=function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},t}(r["a"]);t["a"]=h},a226:function(e,t,i){"use strict";var r=i("6d83"),n=i("91b1"),o=i("0af5"),a=i("9cff"),s=i("2c30"),c=i("089b"),l=i("256f"),u=i("e4e0"),p=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();function d(e){var t,i,r=e[0],n=new Array(r),o=1<<r-1;for(t=0;t<r;++t)i=48,e[1]&o&&(i+=1),e[2]&o&&(i+=2),n[t]=String.fromCharCode(i),o>>=1;return n.join("")}var h='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',f=function(e){function t(t){var i=this,n=void 0!==t.hidpi&&t.hidpi;i=e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",imageSmoothing:t.imageSmoothing,opaque:!0,projection:Object(l["g"])("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:r["a"].LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection})||this,i.hidpi_=n,i.culture_=void 0!==t.culture?t.culture:"en-us",i.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,i.apiKey_=t.key,i.imagerySet_=t.imagerySet;var o="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+i.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+i.apiKey_+"&c="+i.culture_;return Object(u["a"])(o,i.handleImageryMetadataResponse.bind(i),void 0,"jsonp"),i}return p(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],i=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,n=this.getProjection(),u=Object(c["b"])(n),p=this.hidpi_?2:1,f=t.imageWidth==t.imageHeight?t.imageWidth/p:[t.imageWidth/p,t.imageHeight/p],m=Object(c["a"])({extent:u,minZoom:t.zoomMin,maxZoom:i,tileSize:f});this.tileGrid=m;var v=this.culture_,_=this.hidpi_;if(this.tileUrlFunction=Object(a["b"])(t.imageUrlSubdomains.map((function(e){var i=[0,0,0],r=t.imageUrl.replace("{subdomain}",e).replace("{culture}",v);return function(e,t,n){if(e){Object(s["a"])(e[0],e[1],e[2],i);var o=r;return _&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",d(i))}}}))),t.imageryProviders){var y=Object(l["j"])(Object(l["g"])("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var i=[],r=e.viewState,n=this.getTileGrid(),a=n.getZForResolution(r.resolution,this.zDirection),s=n.getTileCoordForCoordAndZ(r.center,a),c=s[0];return t.imageryProviders.map((function(t){for(var r=!1,n=t.coverageAreas,a=0,s=n.length;a<s;++a){var l=n[a];if(c>=l.zoomMin&&c<=l.zoomMax){var u=l.bbox,p=[u[1],u[0],u[3],u[2]],d=Object(o["a"])(p,y);if(Object(o["F"])(d,e.extent)){r=!0;break}}}r&&i.push(t.attribution)})),i.push(h),i}.bind(this))}this.setState(r["a"].READY)}else this.setState(r["a"].ERROR)},t}(n["a"]);t["a"]=f},e4e0:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return o}));var r=i("1300"),n=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();function o(e,t,i,n){var o=document.createElement("script"),a="olc_"+Object(r["c"])(t);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=e+(-1==e.indexOf("?")?"?":"&")+(n||"callback")+"="+a;var c=setTimeout((function(){s(),i&&i()}),1e4);window[a]=function(e){clearTimeout(c),s(),t(e)},document.getElementsByTagName("head")[0].appendChild(o)}(function(e){function t(t){var i=this,r="Unexpected response status: "+t.status;return i=e.call(this,r)||this,i.name="ResponseError",i.response=t,i}n(t,e)})(Error),function(e){function t(t){var i=e.call(this,"Failed to issue request")||this;return i.name="ClientError",i.client=t,i}n(t,e)}(Error)}).call(this,i("c8ba"))}}]);
//# sourceMappingURL=chunk-000021e9.c0193a30.js.map