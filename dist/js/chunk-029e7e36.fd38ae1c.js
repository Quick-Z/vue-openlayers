(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-029e7e36"],{"0710":function(t,e,n){"use strict";var o=n("e269"),i=n("592d"),r=n("698f"),s=n("cd7e"),a=n("0af5"),p=n("1e8d"),u=n("0999"),c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s["d"],n.element.style.position="absolute",n.element.style.pointerEvents="auto";var o=e.autoPan;return o&&"object"!==typeof o&&(o={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=o||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(l.ELEMENT,n.handleElementChanged),n.addChangeListener(l.MAP,n.handleMapChanged),n.addChangeListener(l.OFFSET,n.handleOffsetChanged),n.addChangeListener(l.POSITION,n.handlePositionChanged),n.addChangeListener(l.POSITIONING,n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:r["a"].TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return c(e,t),e.prototype.getElement=function(){return this.get(l.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(l.MAP)},e.prototype.getOffset=function(){return this.get(l.OFFSET)},e.prototype.getPosition=function(){return this.get(l.POSITION)},e.prototype.getPositioning=function(){return this.get(l.POSITIONING)},e.prototype.handleElementChanged=function(){Object(u["d"])(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(u["e"])(this.element),Object(p["c"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(p["a"])(t,i["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(l.ELEMENT,t)},e.prototype.setMap=function(t){this.set(l.MAP,t)},e.prototype.setOffset=function(t){this.set(l.OFFSET,t)},e.prototype.setPosition=function(t){this.set(l.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(l.POSITION)){var n=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),i=this.getRect(o,[Object(u["c"])(o),Object(u["b"])(o)]),r=t||{},s=void 0===r.margin?20:r.margin;if(!Object(a["h"])(n,i)){var p=i[0]-n[0],c=n[2]-i[2],h=i[1]-n[1],f=n[3]-i[3],d=[0,0];if(p<0?d[0]=p-s:c<0&&(d[0]=Math.abs(c)+s),h<0?d[1]=h-s:f<0&&(d[1]=Math.abs(f)+s),0!==d[0]||0!==d[1]){var m=e.getView().getCenterInternal(),O=e.getPixelFromCoordinateInternal(m);if(!O)return;var g=[O[0]+d[0],O[1]+d[1]],T=r.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(g),duration:T.duration,easing:T.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),o=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[o,i,o+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(l.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),o=t.getSize();this.updateRenderedPosition(n,o)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,o=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var s=Math.round(t[0]+o[0])+"px",a=Math.round(t[1]+o[1])+"px",p="0%",u="0%";i==r["a"].BOTTOM_RIGHT||i==r["a"].CENTER_RIGHT||i==r["a"].TOP_RIGHT?p="-100%":i!=r["a"].BOTTOM_CENTER&&i!=r["a"].CENTER_CENTER&&i!=r["a"].TOP_CENTER||(p="-50%"),i==r["a"].BOTTOM_LEFT||i==r["a"].BOTTOM_CENTER||i==r["a"].BOTTOM_RIGHT?u="-100%":i!=r["a"].CENTER_LEFT&&i!=r["a"].CENTER_CENTER&&i!=r["a"].CENTER_RIGHT||(u="-50%");var c="translate("+p+", "+u+") translate("+s+", "+a+")";this.rendered.transform_!=c&&(this.rendered.transform_=c,n.transform=c,n.msTransform=c)},e.prototype.getOptions=function(){return this.options},e}(o["a"]);e["a"]=h},"45bf":function(t,e,n){"use strict";n("663b")},"663b":function(t,e,n){},"698f":function(t,e,n){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},"6cf3":function(t,e,n){"use strict";var o=n("6d83"),i=n("91b1"),r=n("0af5"),s=n("92fa"),a=n("9cff"),p=n("089b"),u=n("256f"),c=n("e4e0"),l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:Object(u["g"])("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:o["a"].LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection})||this;if(n.tileJSON_=null,n.tileSize_=e.tileSize,e.url)if(e.jsonp)Object(c["a"])(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var i=new XMLHttpRequest;i.addEventListener("load",n.onXHRLoad_.bind(n)),i.addEventListener("error",n.onXHRError_.bind(n)),i.open("GET",e.url),i.send()}else e.tileJSON?n.handleTileJSONResponse(e.tileJSON):Object(s["a"])(!1,51);return n}return l(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(o){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,n=Object(u["g"])("EPSG:4326"),i=this.getProjection();if(void 0!==t["bounds"]){var s=Object(u["j"])(n,i);e=Object(r["a"])(t["bounds"],s)}var c=Object(p["b"])(i),l=t["minzoom"]||0,h=t["maxzoom"]||22,f=Object(p["a"])({extent:c,maxZoom:h,minZoom:l,tileSize:this.tileSize_});if(this.tileGrid=f,this.tileUrlFunction=Object(a["a"])(t["tiles"],f),void 0!==t["attribution"]&&!this.getAttributions()){var d=void 0!==e?e:c;this.setAttributions((function(e){return Object(r["F"])(d,e.extent)?[t["attribution"]]:null}))}this.tileJSON_=t,this.setState(o["a"].READY)},e.prototype.handleTileJSONError=function(){this.setState(o["a"].ERROR)},e}(i["a"]);e["a"]=h},b0c0:function(t,e,n){var o=n("83ab"),i=n("9bf2").f,r=Function.prototype,s=r.toString,a=/^\s*function ([^ (]*)/,p="name";o&&!(p in r)&&i(r,p,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},e4e0:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var o=n("1300"),i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function r(t,e,n,i){var r=document.createElement("script"),s="olc_"+Object(o["c"])(e);function a(){delete window[s],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+s;var p=setTimeout((function(){a(),n&&n()}),1e4);window[s]=function(t){clearTimeout(p),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}(function(t){function e(e){var n=this,o="Unexpected response status: "+e.status;return n=t.call(this,o)||this,n.name="ResponseError",n.response=e,n}i(e,t)})(Error),function(t){function e(e){var n=t.call(this,"Failed to issue request")||this;return n.name="ClientError",n.client=e,n}i(e,t)}(Error)}).call(this,n("c8ba"))},e7c0:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vm"},[n("h2",{staticClass:"h-title"},[t._v("简单的标记")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shopPopup,expression:"shopPopup"}],ref:"popup",staticClass:"popup"}),n("div",{staticClass:"map-x",attrs:{id:"map"}}),t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"explain"},[n("p",[t._v("可以用Overlay实现，像弹窗那个demo里那样。")]),n("p",[t._v("但当图标比较多的情况下，就需要加入非常多的HTML元素，从而造成效率降低。")]),n("hr"),n("p",[t._v("需要注意的是，这个标记使用了一张图标图片，这个图片放在项目的assets里。如果要引入这个图片，就需要使用import或者require引入这个图片。")])])}],r=(n("d81d"),n("b0c0"),n("5bc0"),n("4cdf")),s=n("5eee"),a=n("a2c7"),p=n("480c"),u=n("6cf3"),c=n("f403"),l=n("6c77"),h=n("6cbf"),f=n("5831"),d=n("3e6b"),m=n("0710"),O=n("f8a2"),g=n.n(O),T={name:"SimplenessLabel",data:function(){return{map:null,overlay:null,popup:null,shopPopup:!1}},methods:{initMap:function(){var t=this,e=new r["a"]({geometry:new c["a"]([0,0]),name:"你点我了",population:4e3,rainfall:500}),n=new l["c"]({image:new h["a"]({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:g.a})});e.setStyle(n);var o=new f["a"]({features:[e]}),i=new d["a"]({source:o}),O=new p["a"]({source:new u["a"]({url:"https://api.tiles.mapbox.com/v4/mapbox.geography-class.json?secure&access_token=pk.eyJ1IjoiYWhvY2V2YXIiLCJhIjoiY2pzbmg0Nmk5MGF5NzQzbzRnbDNoeHJrbiJ9.7_-_gL8ur7ZtEiNwRfCy7Q",crossOrigin:""})});this.map=new s["a"]({target:"map",layers:[O,i],view:new a["a"]({center:[0,0],zoom:3})}),this.map.on("singleclick",(function(e){var n=t.$refs.popup;t.popup=new m["a"]({element:n,positioning:"bottom-center",stopEvent:!1,offset:[0,-50]}),t.map.addOverlay(t.popup);var o=t.map.forEachFeatureAtPixel(e.pixel,(function(t){return t}));if(o){t.shopPopup=!0,n.innerHTML=o.values_.name;var i=o.getGeometry().getCoordinates();setTimeout((function(){t.popup.setPosition(i)}),0)}else t.shopPopup=!1}))}},mounted:function(){this.initMap()}},E=T,P=(n("45bf"),n("2877")),v=Object(P["a"])(E,o,i,!1,null,"73ad9b05",null);e["default"]=v.exports},f8a2:function(t,e){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-029e7e36.fd38ae1c.js.map