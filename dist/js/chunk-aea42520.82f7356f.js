(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aea42520"],{"262d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm"},[a("h2",{staticClass:"h-title"},[t._v("绘制图形")]),a("div",{staticClass:"tools-x"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tool,expression:"tool"}],attrs:{id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tool=e.target.multiple?a:a[0]}}},t._l(t.tools,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)]),a("div",{ref:"map",staticClass:"map-x"})])},o=[],r=(a("d81d"),a("fb6a"),a("5bc0"),a("5eee")),i=a("a2c7"),l=a("480c"),c=a("d0e9"),s=a("3e6b"),u=a("5831"),d=a("ac29"),v=a("5bc3"),h={data:function(){return{tool:"Circle",tools:[{value:"Circle",label:"圆"},{value:"Square",label:"方形"},{value:"Rectangle",label:"矩形"},{value:"Hexagram",label:"六芒星"},{value:"None",label:"无"}],map:null,draw:null,source:new u["a"]({wrapX:!1})}},watch:{tool:function(t){this.addInteraction()}},methods:{initMap:function(){var t=new l["a"]({source:new c["b"]}),e=new s["a"]({source:this.source});this.map=new r["a"]({target:this.$refs.map,layers:[t,e],view:new i["a"]({projection:"EPSG:4326",center:[113.1206,23.034996],zoom:10})}),this.addInteraction()},addInteraction:function(){if(null!==this.draw&&this.map.removeInteraction(this.draw),"None"!==this.tool){var t,e="Circle";"Square"===this.tool?t=Object(d["b"])(4):"Rectangle"===this.tool?t=Object(d["a"])():"Hexagram"===this.tool&&(t=function(t,e){for(var a=t[0],n=t[1],o=a[0]-n[0],r=a[1]-n[1],i=Math.sqrt(o*o+r*r),l=Math.atan2(r,o),c=[],s=12,u=0;u<s;++u){var d=l+2*u*Math.PI/s,h=u%2===0?1:.58,p=i*h*Math.cos(d),f=i*h*Math.sin(d);c.push([a[0]+p,a[1]+f])}return c.push(c[0].slice()),e?e.setCoordinates([c]):e=new v["a"]([c]),e}),this.draw=new d["c"]({source:this.source,type:e,geometryFunction:t}),this.map.addInteraction(this.draw)}}},mounted:function(){this.initMap()}},p=h,f=a("2877"),m=Object(f["a"])(p,n,o,!1,null,null,null);e["default"]=m.exports},8418:function(t,e,a){"use strict";var n=a("a04b"),o=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var i=n(e);i in t?o.f(t,i,r(0,a)):t[i]=a}},fb6a:function(t,e,a){"use strict";var n=a("23e7"),o=a("861d"),r=a("e8b5"),i=a("23cb"),l=a("50c4"),c=a("fc6a"),s=a("8418"),u=a("b622"),d=a("1dde"),v=d("slice"),h=u("species"),p=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var a,n,u,d=c(this),v=l(d.length),m=i(t,v),w=i(void 0===e?v:e,v);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?o(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(d,m,w);for(n=new(void 0===a?Array:a)(f(w-m,0)),u=0;m<w;m++,u++)m in d&&s(n,u,d[m]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-aea42520.82f7356f.js.map