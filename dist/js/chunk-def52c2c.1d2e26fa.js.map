{"version":3,"sources":["webpack:///./src/views/setResolution/SetResolution.vue?b727","webpack:///src/views/setResolution/SetResolution.vue","webpack:///./src/views/setResolution/SetResolution.vue?7c5c","webpack:///./src/views/setResolution/SetResolution.vue","webpack:///./node_modules/ol/source/TileJSON.js","webpack:///./node_modules/ol/net.js"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","_v","attrs","name","data","map","methods","initMap","Map","target","layers","view","View","center","zoom","mounted","component","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","TileJSON","_super","options","_this","attributions","cacheSize","crossOrigin","imageSmoothing","projection","reprojectionErrorThreshold","state","LOADING","tileLoadFunction","wrapX","undefined","transition","zDirection","tileJSON_","tileSize_","tileSize","url","jsonp","handleTileJSONResponse","bind","handleTileJSONError","client","XMLHttpRequest","addEventListener","onXHRLoad_","onXHRError_","open","send","tileJSON","event","status","response","JSON","parse","responseText","err","getTileJSON","extent","epsg4326Projection","sourceProjection","getProjection","transform","gridExtent","minZoom","maxZoom","tileGrid","tileUrlFunction","getAttributions","attributionExtent_1","setAttributions","frameState","setState","READY","ERROR","callback","opt_errback","opt_callbackParam","script","document","createElement","key","cleanup","window","parentNode","removeChild","async","src","indexOf","timer","setTimeout","clearTimeout","getElementsByTagName","appendChild","ResponseError","message","Error","ClientError"],"mappings":"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","file":"js/chunk-def52c2c.1d2e26fa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vm\"},[_c('h2',{staticClass:\"h-title\"},[_vm._v(\"限制图层的最大/最小分辨率 minResolution / maxResolution\")]),_c('div',{staticClass:\"explain\"},[_c('p',[_vm._v(\"在限制的范围之内时显示图层，在限制的范围之外时不显示图层\")]),_c('p',[_vm._v(\"只有当指定图层在 minResolution 和 maxResolution 范围内，才显示。\")])]),_c('div',{staticClass:\"map-x\",attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vm\">\r\n    <h2 class=\"h-title\">限制图层的最大/最小分辨率 minResolution / maxResolution</h2>\r\n    <div class=\"explain\">\r\n      <p>在限制的范围之内时显示图层，在限制的范围之外时不显示图层</p>\r\n      <p>只有当指定图层在 minResolution 和 maxResolution 范围内，才显示。</p>\r\n    </div>\r\n    <div id=\"map\" class=\"map-x\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'ol/ol.css'\r\nimport { Map, View } from 'ol'\r\nimport Tile from 'ol/layer/Tile'\r\nimport { OSM, TileJSON } from 'ol/source'\r\n\r\nexport default {\r\n  name: 'Resolution',\r\n  data () {\r\n    return {\r\n      map: null\r\n    }\r\n  },\r\n  methods: {\r\n    initMap () {\r\n      this.map = new Map({\r\n        target: 'map',\r\n        layers: [\r\n          new Tile({\r\n            source: new OSM()\r\n          }),\r\n          new Tile({\r\n            source: new TileJSON({\r\n              url: 'https://api.tiles.mapbox.com/v4/mapbox.natural-earth-hypso-bathy.json?secure&access_token=pk.eyJ1IjoiYWhvY2V2YXIiLCJhIjoiY2pzbmg0Nmk5MGF5NzQzbzRnbDNoeHJrbiJ9.7_-_gL8ur7ZtEiNwRfCy7Q',\r\n              crossOrigin: 'anonymous'\r\n            }),\r\n\r\n            // 当图层不在 2000 至 20000 时，将不显示该图层\r\n            minResolution: 2000,\r\n            maxResolution: 20000\r\n          })\r\n        ],\r\n        view: new View({\r\n          center: [653600, 5723680],\r\n          zoom: 5\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initMap()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetResolution.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetResolution.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetResolution.vue?vue&type=template&id=23f47f00&\"\nimport script from \"./SetResolution.vue?vue&type=script&lang=js&\"\nexport * from \"./SetResolution.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @module ol/source/TileJSON\n */\n// FIXME check order of async callbacks\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * See https://mapbox.com/developers/api/.\n */\nimport SourceState from './State.js';\nimport TileImage from './TileImage.js';\nimport { applyTransform, intersects } from '../extent.js';\nimport { assert } from '../asserts.js';\nimport { createFromTemplates } from '../tileurlfunction.js';\nimport { createXYZ, extentFromProjection } from '../tilegrid.js';\nimport { get as getProjection, getTransformFromProjections } from '../proj.js';\nimport { jsonp as requestJSONP } from '../net.js';\n/**\n * @typedef {Object} Config\n * @property {string} [name] The name.\n * @property {string} [description] The description.\n * @property {string} [version] The version.\n * @property {string} [attribution] The attribution.\n * @property {string} [template] The template.\n * @property {string} [legend] The legend.\n * @property {string} [scheme] The scheme.\n * @property {Array<string>} tiles The tile URL templates.\n * @property {Array<string>} [grids] Optional grids.\n * @property {number} [minzoom] Minimum zoom level.\n * @property {number} [maxzoom] Maximum zoom level.\n * @property {Array<number>} [bounds] Optional bounds.\n * @property {Array<number>} [center] Optional center.\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {boolean} [jsonp=false] Use JSONP with callback to load the TileJSON.\n * Useful when the server does not support CORS..\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {Config} [tileJSON] TileJSON configuration for this source.\n * If not provided, `url` must be configured.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n * Note: `tileSize` and other non-standard TileJSON properties are currently ignored.\n * @property {string} [url] URL to the TileJSON file. If not provided, `tileJSON` must be configured.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number} [transition] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for tile data in TileJSON format.\n * @api\n */\nvar TileJSON = /** @class */ (function (_super) {\n    __extends(TileJSON, _super);\n    /**\n     * @param {Options} options TileJSON options.\n     */\n    function TileJSON(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            imageSmoothing: options.imageSmoothing,\n            projection: getProjection('EPSG:3857'),\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            state: SourceState.LOADING,\n            tileLoadFunction: options.tileLoadFunction,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @type {Config}\n         * @private\n         */\n        _this.tileJSON_ = null;\n        /**\n         * @type {number|import(\"../size.js\").Size}\n         * @private\n         */\n        _this.tileSize_ = options.tileSize;\n        if (options.url) {\n            if (options.jsonp) {\n                requestJSONP(options.url, _this.handleTileJSONResponse.bind(_this), _this.handleTileJSONError.bind(_this));\n            }\n            else {\n                var client = new XMLHttpRequest();\n                client.addEventListener('load', _this.onXHRLoad_.bind(_this));\n                client.addEventListener('error', _this.onXHRError_.bind(_this));\n                client.open('GET', options.url);\n                client.send();\n            }\n        }\n        else if (options.tileJSON) {\n            _this.handleTileJSONResponse(options.tileJSON);\n        }\n        else {\n            assert(false, 51); // Either `url` or `tileJSON` options must be provided\n        }\n        return _this;\n    }\n    /**\n     * @private\n     * @param {Event} event The load event.\n     */\n    TileJSON.prototype.onXHRLoad_ = function (event) {\n        var client = /** @type {XMLHttpRequest} */ (event.target);\n        // status will be 0 for file:// urls\n        if (!client.status || (client.status >= 200 && client.status < 300)) {\n            var response = void 0;\n            try {\n                response = /** @type {TileJSON} */ (JSON.parse(client.responseText));\n            }\n            catch (err) {\n                this.handleTileJSONError();\n                return;\n            }\n            this.handleTileJSONResponse(response);\n        }\n        else {\n            this.handleTileJSONError();\n        }\n    };\n    /**\n     * @private\n     * @param {Event} event The error event.\n     */\n    TileJSON.prototype.onXHRError_ = function (event) {\n        this.handleTileJSONError();\n    };\n    /**\n     * @return {Config} The tilejson object.\n     * @api\n     */\n    TileJSON.prototype.getTileJSON = function () {\n        return this.tileJSON_;\n    };\n    /**\n     * @protected\n     * @param {Config} tileJSON Tile JSON.\n     */\n    TileJSON.prototype.handleTileJSONResponse = function (tileJSON) {\n        var epsg4326Projection = getProjection('EPSG:4326');\n        var sourceProjection = this.getProjection();\n        var extent;\n        if (tileJSON['bounds'] !== undefined) {\n            var transform = getTransformFromProjections(epsg4326Projection, sourceProjection);\n            extent = applyTransform(tileJSON['bounds'], transform);\n        }\n        var gridExtent = extentFromProjection(sourceProjection);\n        var minZoom = tileJSON['minzoom'] || 0;\n        var maxZoom = tileJSON['maxzoom'] || 22;\n        var tileGrid = createXYZ({\n            extent: gridExtent,\n            maxZoom: maxZoom,\n            minZoom: minZoom,\n            tileSize: this.tileSize_,\n        });\n        this.tileGrid = tileGrid;\n        this.tileUrlFunction = createFromTemplates(tileJSON['tiles'], tileGrid);\n        if (tileJSON['attribution'] !== undefined && !this.getAttributions()) {\n            var attributionExtent_1 = extent !== undefined ? extent : gridExtent;\n            this.setAttributions(function (frameState) {\n                if (intersects(attributionExtent_1, frameState.extent)) {\n                    return [tileJSON['attribution']];\n                }\n                return null;\n            });\n        }\n        this.tileJSON_ = tileJSON;\n        this.setState(SourceState.READY);\n    };\n    /**\n     * @protected\n     */\n    TileJSON.prototype.handleTileJSONError = function () {\n        this.setState(SourceState.ERROR);\n    };\n    return TileJSON;\n}(TileImage));\nexport default TileJSON;\n//# sourceMappingURL=TileJSON.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/net\n */\nimport { getUid } from './util.js';\n/**\n * Simple JSONP helper. Supports error callbacks and a custom callback param.\n * The error callback will be called when no JSONP is executed after 10 seconds.\n *\n * @param {string} url Request url. A 'callback' query parameter will be\n *     appended.\n * @param {Function} callback Callback on success.\n * @param {Function} [opt_errback] Callback on error.\n * @param {string} [opt_callbackParam] Custom query parameter for the JSONP\n *     callback. Default is 'callback'.\n */\nexport function jsonp(url, callback, opt_errback, opt_callbackParam) {\n    var script = document.createElement('script');\n    var key = 'olc_' + getUid(callback);\n    function cleanup() {\n        delete window[key];\n        script.parentNode.removeChild(script);\n    }\n    script.async = true;\n    script.src =\n        url +\n            (url.indexOf('?') == -1 ? '?' : '&') +\n            (opt_callbackParam || 'callback') +\n            '=' +\n            key;\n    var timer = setTimeout(function () {\n        cleanup();\n        if (opt_errback) {\n            opt_errback();\n        }\n    }, 10000);\n    window[key] = function (data) {\n        clearTimeout(timer);\n        cleanup();\n        callback(data);\n    };\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\nvar ResponseError = /** @class */ (function (_super) {\n    __extends(ResponseError, _super);\n    /**\n     * @param {XMLHttpRequest} response The XHR object.\n     */\n    function ResponseError(response) {\n        var _this = this;\n        var message = 'Unexpected response status: ' + response.status;\n        _this = _super.call(this, message) || this;\n        /**\n         * @type {string}\n         */\n        _this.name = 'ResponseError';\n        /**\n         * @type {XMLHttpRequest}\n         */\n        _this.response = response;\n        return _this;\n    }\n    return ResponseError;\n}(Error));\nexport { ResponseError };\nvar ClientError = /** @class */ (function (_super) {\n    __extends(ClientError, _super);\n    /**\n     * @param {XMLHttpRequest} client The XHR object.\n     */\n    function ClientError(client) {\n        var _this = _super.call(this, 'Failed to issue request') || this;\n        /**\n         * @type {string}\n         */\n        _this.name = 'ClientError';\n        /**\n         * @type {XMLHttpRequest}\n         */\n        _this.client = client;\n        return _this;\n    }\n    return ClientError;\n}(Error));\nexport { ClientError };\n/**\n * @param {string} url The URL.\n * @return {Promise<Object>} A promise that resolves to the JSON response.\n */\nexport function getJSON(url) {\n    return new Promise(function (resolve, reject) {\n        /**\n         * @param {ProgressEvent<XMLHttpRequest>} event The load event.\n         */\n        function onLoad(event) {\n            var client = event.target;\n            // status will be 0 for file:// urls\n            if (!client.status || (client.status >= 200 && client.status < 300)) {\n                var data = void 0;\n                try {\n                    data = JSON.parse(client.responseText);\n                }\n                catch (err) {\n                    var message = 'Error parsing response text as JSON: ' + err.message;\n                    reject(new Error(message));\n                    return;\n                }\n                resolve(data);\n                return;\n            }\n            reject(new ResponseError(client));\n        }\n        /**\n         * @param {ProgressEvent<XMLHttpRequest>} event The error event.\n         */\n        function onError(event) {\n            reject(new ClientError(event.target));\n        }\n        var client = new XMLHttpRequest();\n        client.addEventListener('load', onLoad);\n        client.addEventListener('error', onError);\n        client.open('GET', url);\n        client.setRequestHeader('Accept', 'application/json');\n        client.send();\n    });\n}\n/**\n * @param {string} base The base URL.\n * @param {string} url The potentially relative URL.\n * @return {string} The full URL.\n */\nexport function resolveUrl(base, url) {\n    if (url.indexOf('://') >= 0) {\n        return url;\n    }\n    return new URL(url, base).href;\n}\nvar originalXHR;\nexport function overrideXHR(xhr) {\n    if (typeof XMLHttpRequest !== 'undefined') {\n        originalXHR = XMLHttpRequest;\n    }\n    global.XMLHttpRequest = xhr;\n}\nexport function restoreXHR() {\n    global.XMLHttpRequest = originalXHR;\n}\n//# sourceMappingURL=net.js.map"],"sourceRoot":""}